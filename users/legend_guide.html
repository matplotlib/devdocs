<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Legend guide &mdash; Matplotlib 2.0.0b1.post1110+gf8ea2c5 documentation</title>
    
    <link rel="stylesheet" href="../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css"
type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0b1.post1110+gf8ea2c5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 2.0.0b1.post1110+gf8ea2c5 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Matplotlib 2.0.0b1.post1110+gf8ea2c5 documentation" href="../index.html" />
    <link rel="up" title="Beginner’s Guide" href="beginner.html" />
    <link rel="next" title="Annotating Axes" href="annotations_guide.html" />
    <link rel="prev" title="Image tutorial" href="image_tutorial.html" /> 


  </head>
  <body>



<!-- The "Fork me on github" ribbon -->
<img style="float: right; margin-bottom: -40px; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" usemap="#ribbonmap"/>
<map name="ribbonmap">
    <area shape="poly" coords="15,0,148,-1,148,135" href="https://github.com/matplotlib/matplotlib" title="Fork me on GitHub" />
</map>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/logo2.svg" width="540px" border="0" alt="matplotlib"/></a>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="annotations_guide.html" title="Annotating Axes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="image_tutorial.html" title="Image tutorial"
             accesskey="P">previous</a> |</li>

        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../api/pyplot_summary.html">pyplot</a>|&nbsp;</li>
        <li><a href="../contents.html">docs</a> &raquo;</li>
          <li><a href="index.html" >User&#8217;s Guide</a> &raquo;</li>
          <li><a href="beginner.html" accesskey="U">Beginner&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<a href="http://depsy.org/package/python/matplotlib">
  <img src="http://depsy.org/api/package/pypi/matplotlib/badge.svg">
</a>

<br/>

Travis-CI: <a href="https://travis-ci.org/matplotlib/matplotlib">
  <img src="https://travis-ci.org/matplotlib/matplotlib.svg?branch=master"/>
</a>
<br/>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Legend guide</a><ul>
<li><a class="reference internal" href="#controlling-the-legend-entries">Controlling the legend entries</a></li>
<li><a class="reference internal" href="#creating-artists-specifically-for-adding-to-the-legend-aka-proxy-artists">Creating artists specifically for adding to the legend (aka. Proxy artists)</a></li>
<li><a class="reference internal" href="#legend-location">Legend location</a></li>
<li><a class="reference internal" href="#multiple-legends-on-the-same-axes">Multiple legends on the same Axes</a></li>
<li><a class="reference internal" href="#legend-handlers">Legend Handlers</a><ul>
<li><a class="reference internal" href="#implementing-a-custom-legend-handler">Implementing a custom legend handler</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-examples-of-using-legend">Known examples of using legend</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">User&#8217;s Guide</a><ul>
  <li><a href="beginner.html">Beginner&#8217;s Guide</a><ul>
      <li>Previous: <a href="image_tutorial.html" title="previous chapter">Image tutorial</a></li>
      <li>Next: <a href="annotations_guide.html" title="next chapter">Annotating Axes</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/users/legend_guide.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="legend-guide">
<span id="plotting-guide-legend"></span><h1>Legend guide<a class="headerlink" href="#legend-guide" title="Permalink to this headline">¶</a></h1>
<p>This legend guide is an extension of the documentation available at
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a> - please ensure you are familiar with
contents of that documentation before proceeding with this guide.</p>
<p>This guide makes use of some common terms, which are documented here for clarity:</p>
<dl class="glossary docutils">
<dt id="term-legend-entry">legend entry</dt>
<dd>A legend is made up of one or more legend entries. An entry is made up of
exactly one key and one label.</dd>
<dt id="term-legend-key">legend key</dt>
<dd>The colored/patterned marker to the left of each legend label.</dd>
<dt id="term-legend-label">legend label</dt>
<dd>The text which describes the handle represented by the key.</dd>
<dt id="term-legend-handle">legend handle</dt>
<dd>The original object which is used to generate an appropriate entry in
the legend.</dd>
</dl>
<div class="section" id="controlling-the-legend-entries">
<h2>Controlling the legend entries<a class="headerlink" href="#controlling-the-legend-entries" title="Permalink to this headline">¶</a></h2>
<p>Calling <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a> with no arguments automatically fetches the legend
handles and their associated labels. This functionality is equivalent to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../api/axes_api.html#matplotlib.axes.Axes.get_legend_handles_labels" title="matplotlib.axes.Axes.get_legend_handles_labels"><code class="xref py py-meth docutils literal"><span class="pre">get_legend_handles_labels()</span></code></a> function returns
a list of handles/artists which exist on the Axes which can be used to
generate entries for the resulting legend - it is worth noting however that
not all artists can be added to a legend, at which point a &#8220;proxy&#8221; will have
to be created (see <a class="reference internal" href="#proxy-legend-handles"><span class="std std-ref">Creating artists specifically for adding to the legend (aka. Proxy artists)</span></a> for further details).</p>
<p>For full control of what is being added to the legend, it is common to pass
the appropriate handles directly to <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">line_up</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 2&#39;</span><span class="p">)</span>
<span class="n">line_down</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">line_up</span><span class="p">,</span> <span class="n">line_down</span><span class="p">])</span>
</pre></div>
</div>
<p>In some cases, it is not possible to set the label of the handle, so it is
possible to pass through the list of labels to <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">line_up</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 2&#39;</span><span class="p">)</span>
<span class="n">line_down</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="n">line_up</span><span class="p">,</span> <span class="n">line_down</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Line Up&#39;</span><span class="p">,</span> <span class="s1">&#39;Line Down&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-artists-specifically-for-adding-to-the-legend-aka-proxy-artists">
<span id="proxy-legend-handles"></span><h2>Creating artists specifically for adding to the legend (aka. Proxy artists)<a class="headerlink" href="#creating-artists-specifically-for-adding-to-the-legend-aka-proxy-artists" title="Permalink to this headline">¶</a></h2>
<p>Not all handles can be turned into legend entries automatically,
so it is often necessary to create an artist which <em>can</em>. Legend handles
don&#8217;t have to exists on the Figure or Axes in order to be used.</p>
<p>Suppose we wanted to create a legend which has an entry for some data which
is represented by a red color:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="kn">as</span> <span class="nn">mpatches</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">red_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;The red data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">red_patch</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-1.py">Source code</a>, <a class="reference external" href="../users/legend_guide-1.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-1.png" src="../_images/legend_guide-1.png" />
</div>
<p>There are many supported legend handles, instead of creating a patch of color
we could have created a line with a marker:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.lines</span> <span class="kn">as</span> <span class="nn">mlines</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">blue_line</span> <span class="o">=</span> <span class="n">mlines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
                          <span class="n">markersize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Blue stars&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">blue_line</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-2.py">Source code</a>, <a class="reference external" href="../users/legend_guide-2.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-2.png" src="../_images/legend_guide-2.png" />
</div>
</div>
<div class="section" id="legend-location">
<h2>Legend location<a class="headerlink" href="#legend-location" title="Permalink to this headline">¶</a></h2>
<p>The location of the legend can be specified by the keyword argument
<em>loc</em>. Please see the documentation at <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a> for more details.</p>
<p>The <code class="docutils literal"><span class="pre">bbox_to_anchor</span></code> keyword gives a great degree of control for manual
legend placement. For example, if you want your axes legend located at the
figure&#8217;s top right-hand corner instead of the axes&#8217; corner, simply specify
the corner&#8217;s location, and the coordinate system of that location:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
           <span class="n">bbox_transform</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">transFigure</span><span class="p">)</span>
</pre></div>
</div>
<p>More examples of custom legend placement:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>


<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;test1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>
<span class="c1"># Place a legend above this legend, expanding itself to</span>
<span class="c1"># fully use the given bounding box.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.02</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="o">.</span><span class="mi">102</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
           <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;expand&quot;</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;test1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>
<span class="c1"># Place a legend to the right of this smaller figure.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/plotting/examples/simple_legend01.py">Source code</a>, <a class="reference external" href="../users/plotting/examples/simple_legend01.png">png</a>)</p>
<div class="figure">
<img alt="../_images/simple_legend01.png" src="../_images/simple_legend01.png" />
</div>
</div>
<div class="section" id="multiple-legends-on-the-same-axes">
<h2>Multiple legends on the same Axes<a class="headerlink" href="#multiple-legends-on-the-same-axes" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is more clear to split legend entries across multiple
legends. Whilst the instinctive approach to doing this might be to call
the <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a> function multiple times, you will find that only one
legend ever exists on the Axes. This has been done so that it is possible
to call <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a> repeatedly to update the legend to the latest
handles on the Axes, so to persist old legend instances, we must add them
manually to the Axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">line1</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Line 1&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">line2</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Line 2&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Create a legend for the first line.</span>
<span class="n">first_legend</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">line1</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Add the legend manually to the current Axes.</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">first_legend</span><span class="p">)</span>

<span class="c1"># Create another legend for the second line.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">line2</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/plotting/examples/simple_legend02.py">Source code</a>, <a class="reference external" href="../users/plotting/examples/simple_legend02.png">png</a>)</p>
<div class="figure">
<img alt="../_images/simple_legend02.png" src="../_images/simple_legend02.png" />
</div>
</div>
<div class="section" id="legend-handlers">
<h2>Legend Handlers<a class="headerlink" href="#legend-handlers" title="Permalink to this headline">¶</a></h2>
<p>In order to create legend entries, handles are given as an argument to an
appropriate <a class="reference internal" href="../api/legend_api.html#matplotlib.legend_handler.HandlerBase" title="matplotlib.legend_handler.HandlerBase"><code class="xref py py-class docutils literal"><span class="pre">HandlerBase</span></code></a> subclass.
The choice of handler subclass is determined by the following rules:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Update <a class="reference internal" href="../api/legend_api.html#matplotlib.legend.Legend.get_legend_handler_map" title="matplotlib.legend.Legend.get_legend_handler_map"><code class="xref py py-func docutils literal"><span class="pre">get_legend_handler_map()</span></code></a>
with the value in the <code class="docutils literal"><span class="pre">handler_map</span></code> keyword.</li>
<li>Check if the <code class="docutils literal"><span class="pre">handle</span></code> is in the newly created <code class="docutils literal"><span class="pre">handler_map</span></code>.</li>
<li>Check if the type of <code class="docutils literal"><span class="pre">handle</span></code> is in the newly created
<code class="docutils literal"><span class="pre">handler_map</span></code>.</li>
<li>Check if any of the types in the <code class="docutils literal"><span class="pre">handle</span></code>&#8216;s mro is in the newly
created <code class="docutils literal"><span class="pre">handler_map</span></code>.</li>
</ol>
</div></blockquote>
<p>For completeness, this logic is mostly implemented in
<a class="reference internal" href="../api/legend_api.html#matplotlib.legend.Legend.get_legend_handler" title="matplotlib.legend.Legend.get_legend_handler"><code class="xref py py-func docutils literal"><span class="pre">get_legend_handler()</span></code></a>.</p>
<p>All of this flexibility means that we have the necessary hooks to implement
custom handlers for our own type of legend key.</p>
<p>The simplest example of using custom handlers is to instantiate one of the
existing <a class="reference internal" href="../api/legend_api.html#matplotlib.legend_handler.HandlerBase" title="matplotlib.legend_handler.HandlerBase"><code class="xref py py-class docutils literal"><span class="pre">HandlerBase</span></code></a> subclasses. For the
sake of simplicity, let&#8217;s choose <a class="reference internal" href="../api/legend_api.html#matplotlib.legend_handler.HandlerLine2D" title="matplotlib.legend_handler.HandlerLine2D"><code class="xref py py-class docutils literal"><span class="pre">matplotlib.legend_handler.HandlerLine2D</span></code></a>
which accepts a <code class="docutils literal"><span class="pre">numpoints</span></code> argument (note numpoints is a keyword
on the <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.legend" title="matplotlib.pyplot.legend"><code class="xref py py-func docutils literal"><span class="pre">legend()</span></code></a> function for convenience). We can then pass the mapping
of instance to Handler as a keyword to legend.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.legend_handler</span> <span class="kn">import</span> <span class="n">HandlerLine2D</span>

<span class="n">line1</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 1&#39;</span><span class="p">)</span>
<span class="n">line2</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 2&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handler_map</span><span class="o">=</span><span class="p">{</span><span class="n">line1</span><span class="p">:</span> <span class="n">HandlerLine2D</span><span class="p">(</span><span class="n">numpoints</span><span class="o">=</span><span class="mi">4</span><span class="p">)})</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-3.py">Source code</a>, <a class="reference external" href="../users/legend_guide-3.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-3.png" src="../_images/legend_guide-3.png" />
</div>
<p>As you can see, &#8220;Line 1&#8221; now has 4 marker points, where &#8220;Line 2&#8221; has 2 (the
default). Try the above code, only change the map&#8217;s key from <code class="docutils literal"><span class="pre">line1</span></code> to
<code class="docutils literal"><span class="pre">type(line1)</span></code>. Notice how now both <a class="reference internal" href="../api/lines_api.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><code class="xref py py-class docutils literal"><span class="pre">Line2D</span></code></a> instances
get 4 markers.</p>
<p>Along with handlers for complex plot types such as errorbars, stem plots
and histograms, the default <code class="docutils literal"><span class="pre">handler_map</span></code> has a special <code class="docutils literal"><span class="pre">tuple</span></code> handler
(<a class="reference internal" href="../api/legend_api.html#matplotlib.legend_handler.HandlerTuple" title="matplotlib.legend_handler.HandlerTuple"><code class="xref py py-class docutils literal"><span class="pre">HandlerTuple</span></code></a>) which simply plots
the handles on top of one another for each item in the given tuple. The
following example demonstrates combining two legend keys on top of one another:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randn</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">red_dot</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="s2">&quot;ro&quot;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="c1"># Put a white cross over some of the data.</span>
<span class="n">white_cross</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;w+&quot;</span><span class="p">,</span> <span class="n">markeredgewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="n">red_dot</span><span class="p">,</span> <span class="p">(</span><span class="n">red_dot</span><span class="p">,</span> <span class="n">white_cross</span><span class="p">)],</span> <span class="p">[</span><span class="s2">&quot;Attr A&quot;</span><span class="p">,</span> <span class="s2">&quot;Attr A+B&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-4.py">Source code</a>, <a class="reference external" href="../users/legend_guide-4.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-4.png" src="../_images/legend_guide-4.png" />
</div>
<p>The <a class="reference internal" href="../api/legend_api.html#matplotlib.legend_handler.HandlerTuple" title="matplotlib.legend_handler.HandlerTuple"><code class="xref py py-class docutils literal"><span class="pre">HandlerTuple</span></code></a> class can also be used to
assign several legend keys to the same entry:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.legend_handler</span> <span class="kn">import</span> <span class="n">HandlerLine2D</span><span class="p">,</span> <span class="n">HandlerTuple</span>

<span class="n">p1</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;r-d&#39;</span><span class="p">)</span>
<span class="n">p2</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;k-o&#39;</span><span class="p">)</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)],</span> <span class="p">[</span><span class="s1">&#39;Two keys&#39;</span><span class="p">],</span> <span class="n">numpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">handler_map</span><span class="o">=</span><span class="p">{</span><span class="nb">tuple</span><span class="p">:</span> <span class="n">HandlerTuple</span><span class="p">(</span><span class="n">ndivide</span><span class="o">=</span><span class="bp">None</span><span class="p">)})</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-5.py">Source code</a>, <a class="reference external" href="../users/legend_guide-5.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-5.png" src="../_images/legend_guide-5.png" />
</div>
<div class="section" id="implementing-a-custom-legend-handler">
<h3>Implementing a custom legend handler<a class="headerlink" href="#implementing-a-custom-legend-handler" title="Permalink to this headline">¶</a></h3>
<p>A custom handler can be implemented to turn any handle into a legend key (handles
don&#8217;t necessarily need to be matplotlib artists).
The handler must implement a &#8220;legend_artist&#8221; method which returns a
single artist for the legend to use. Signature details about the &#8220;legend_artist&#8221;
are documented at <a class="reference internal" href="../api/legend_api.html#matplotlib.legend_handler.HandlerBase.legend_artist" title="matplotlib.legend_handler.HandlerBase.legend_artist"><code class="xref py py-meth docutils literal"><span class="pre">legend_artist()</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="kn">as</span> <span class="nn">mpatches</span>

<span class="k">class</span> <span class="nc">AnyObject</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">AnyObjectHandler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">legend_artist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">orig_handle</span><span class="p">,</span> <span class="n">fontsize</span><span class="p">,</span> <span class="n">handlebox</span><span class="p">):</span>
        <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">handlebox</span><span class="o">.</span><span class="n">xdescent</span><span class="p">,</span> <span class="n">handlebox</span><span class="o">.</span><span class="n">ydescent</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">handlebox</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">handlebox</span><span class="o">.</span><span class="n">height</span>
        <span class="n">patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">([</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">],</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
                                   <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">hatch</span><span class="o">=</span><span class="s1">&#39;xx&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                   <span class="n">transform</span><span class="o">=</span><span class="n">handlebox</span><span class="o">.</span><span class="n">get_transform</span><span class="p">())</span>
        <span class="n">handlebox</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">patch</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="n">AnyObject</span><span class="p">()],</span> <span class="p">[</span><span class="s1">&#39;My first handler&#39;</span><span class="p">],</span>
           <span class="n">handler_map</span><span class="o">=</span><span class="p">{</span><span class="n">AnyObject</span><span class="p">:</span> <span class="n">AnyObjectHandler</span><span class="p">()})</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-6.py">Source code</a>, <a class="reference external" href="../users/legend_guide-6.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-6.png" src="../_images/legend_guide-6.png" />
</div>
<p>Alternatively, had we wanted to globally accept <code class="docutils literal"><span class="pre">AnyObject</span></code> instances without
needing to manually set the <code class="docutils literal"><span class="pre">handler_map</span></code> keyword all the time, we could have
registered the new handler with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.legend</span> <span class="k">import</span> <span class="n">Legend</span>
<span class="n">Legend</span><span class="o">.</span><span class="n">update_default_handler_map</span><span class="p">({</span><span class="n">AnyObject</span><span class="p">:</span> <span class="n">AnyObjectHandler</span><span class="p">()})</span>
</pre></div>
</div>
<p>Whilst the power here is clear, remember that there are already many handlers
implemented and what you want to achieve may already be easily possible with
existing classes. For example, to produce elliptical legend keys, rather than
rectangular ones:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.legend_handler</span> <span class="kn">import</span> <span class="n">HandlerPatch</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="kn">as</span> <span class="nn">mpatches</span>


<span class="k">class</span> <span class="nc">HandlerEllipse</span><span class="p">(</span><span class="n">HandlerPatch</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_artists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">orig_handle</span><span class="p">,</span>
                       <span class="n">xdescent</span><span class="p">,</span> <span class="n">ydescent</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">fontsize</span><span class="p">,</span> <span class="n">trans</span><span class="p">):</span>
        <span class="n">center</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">width</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">xdescent</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">height</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">ydescent</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Ellipse</span><span class="p">(</span><span class="n">xy</span><span class="o">=</span><span class="n">center</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span> <span class="o">+</span> <span class="n">xdescent</span><span class="p">,</span>
                             <span class="n">height</span><span class="o">=</span><span class="n">height</span> <span class="o">+</span> <span class="n">ydescent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_prop</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">orig_handle</span><span class="p">,</span> <span class="n">legend</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">set_transform</span><span class="p">(</span><span class="n">trans</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">p</span><span class="p">]</span>


<span class="n">c</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="mf">0.25</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
                    <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="n">c</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;An ellipse, not a rectangle&quot;</span><span class="p">],</span>
           <span class="n">handler_map</span><span class="o">=</span><span class="p">{</span><span class="n">mpatches</span><span class="o">.</span><span class="n">Circle</span><span class="p">:</span> <span class="n">HandlerEllipse</span><span class="p">()})</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../users/legend_guide-7.py">Source code</a>, <a class="reference external" href="../users/legend_guide-7.png">png</a>)</p>
<div class="figure">
<img alt="../_images/legend_guide-7.png" src="../_images/legend_guide-7.png" />
</div>
</div>
</div>
<div class="section" id="known-examples-of-using-legend">
<h2>Known examples of using legend<a class="headerlink" href="#known-examples-of-using-legend" title="Permalink to this headline">¶</a></h2>
<p>Here is a non-exhaustive list of the examples available involving legend
being used in various ways:</p>
<ul class="simple">
<li><a class="reference internal" href="../examples/lines_bars_and_markers/scatter_with_legend.html#lines-bars-and-markers-scatter-with-legend"><span class="std std-ref">lines_bars_and_markers example code: scatter_with_legend.py</span></a></li>
<li><a class="reference internal" href="../examples/api/legend_demo.html#api-legend-demo"><span class="std std-ref">api example code: legend_demo.py</span></a></li>
<li><a class="reference internal" href="../examples/pylab_examples/contourf_hatching.html#pylab-examples-contourf-hatching"><span class="std std-ref">pylab_examples example code: contourf_hatching.py</span></a></li>
<li><a class="reference internal" href="../examples/pylab_examples/figlegend_demo.html#pylab-examples-figlegend-demo"><span class="std std-ref">pylab_examples example code: figlegend_demo.py</span></a></li>
<li><a class="reference internal" href="../examples/pylab_examples/finance_work2.html#pylab-examples-finance-work2"><span class="std std-ref">pylab_examples example code: finance_work2.py</span></a></li>
<li><a class="reference internal" href="../examples/pylab_examples/scatter_symbol.html#pylab-examples-scatter-symbol"><span class="std std-ref">pylab_examples example code: scatter_symbol.py</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the matplotlib development team; 2012 - 2014 The matplotlib development team.
      Last updated on Jun 23, 2016.
      Created using <a
href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
  <!--Flipcause Integration v3.0// Flipcause Integration Instructions:
Install the following code block once in the website Header (after <head> tag) -->

<style>

.fc-black_overlay{
display:none; position: fixed; z-index:1000001; top: 0%;left: 0%;width: 100%;height: 100%;
background-color: black; filter: alpha(opacity=50); cursor:pointer; opacity:0.5;
}

.fc-white_content {
opacity:1; display:none; margin-top: -320px; margin-left: -485px; width:970px; height:640px;
position:fixed; top:50%; left:50%; border: none;z-index:1000002;overflow: auto;
}

.fc-main-box{
opacity:1; display:none; margin:15px auto 0 auto; width:930px; position:relative; z-index:1000003;
}

.fc-widget_close{
opacity:1; content:url(http://i1338.photobucket.com/albums/o691/WeCause/X_zpse4a7e538.png);
position:absolute; z-index=1000004; right:-16px; top:-16px; display:block; cursor:pointer;
}

.floating_button{
display: block; margin-top: 0px; margin-left: 0px; width:auto ; height: auto;
position:fixed; z-index:999999; overflow: auto;
}

@keyframes backfadesin {
   from { opacity:0; }
   to {opacity:.5;}
}

@-moz-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-webkit-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-o-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}


@-ms-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; transform: translateY(20px);}
   100% {opacity: 1; transform: translateY(0);}
}

@-moz-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -moz-transform: translateY(20px);}
   100% {opacity: 1; -moz-transform: translateY(0);}
}

@-webkit-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -webkit-transform: translateY(20px);}
   100% {opacity: 1; -webkit-transform: translateY(0);}
}

@-o-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -o-transform: translateY(20px);}
   100% {opacity: 1; -o-transform: translateY(0);}
}

@-ms-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -ms-transform: translateY(20px);}
   100% {opacity: 1; -ms-transform: translateY(0);}
}

</style>

<script>

function open_window(cause_id) {
var  protocol=String(document.location.protocol);
var new_url;
if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
new_url="https://www.flipcause.com/widget/"+cause_id
window.open(new_url);
}

else {
document.getElementById("fc-fade").style.display = "block";
document.getElementById("fc-fade").style.webkitAnimation = "backfadesin 1s";
document.getElementById("fc-fade").style.animation = "backfadesin 1s";
document.getElementById("fc-fade").style.mozAnimation = "backfadesin 1s";
document.getElementById("fc-light").style.display = "block";
document.getElementById("fc-light").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-light").style.animation = "fadesin 1.5s";
document.getElementById("fc-light").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.display = "block";
document.getElementById("fc-main").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.animation = "fadesin 1.5s";
document.getElementById("fc-main").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.display = "block";
document.getElementById("fc-close").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.animation = "fadesin 1.5s";
document.getElementById("fc-close").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.display = "block";
document.getElementById("fc-myFrame").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.animation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").src="https://www.flipcause.com/widget/"+cause_id;
}
}


function close_window() {
document.getElementById("fc-fade").style.display="none";
document.getElementById("fc-light").style.display="none";
document.getElementById("fc-main").style.display="none";
document.getElementById("fc-close").style.display="none";
document.getElementById("fc-myFrame").style.display="none";
}

</script>

<div id="fc-fade" class="fc-black_overlay" onclick="close_window()"></div>
<div id="fc-light" class="fc-white_content">
<div id="fc-main" class="fc-main-box">
<div id="fc-close" class="fc-widget_close" onclick="close_window()">
</div><iframe id="fc-myFrame" iframe height="580" width="925" style="border: 0;
border-radius:5px 5px 5px 5px; box-shadow:0 0 8px rgba(0, 0, 0, 0.5);" scrolling="no" src=""></iframe></div>
</div>

<!--END Flipcause Main Integration Code-->
</footer>
</html>