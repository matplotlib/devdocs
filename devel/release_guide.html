<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Doing a matplotlib release &mdash; Matplotlib 2.0.0b1.post1110+gf8ea2c5 documentation</title>
    
    <link rel="stylesheet" href="../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css"
type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0b1.post1110+gf8ea2c5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 2.0.0b1.post1110+gf8ea2c5 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Matplotlib 2.0.0b1.post1110+gf8ea2c5 documentation" href="../index.html" />
    <link rel="up" title="The Matplotlib Developers’ Guide" href="index.html" />
    <link rel="next" title="Working with transformations" href="transformations.html" />
    <link rel="prev" title="Documenting matplotlib" href="documenting_mpl.html" /> 


  </head>
  <body>



<!-- The "Fork me on github" ribbon -->
<img style="float: right; margin-bottom: -40px; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" usemap="#ribbonmap"/>
<map name="ribbonmap">
    <area shape="poly" coords="15,0,148,-1,148,135" href="https://github.com/matplotlib/matplotlib" title="Fork me on GitHub" />
</map>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/logo2.svg" width="540px" border="0" alt="matplotlib"/></a>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="transformations.html" title="Working with transformations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="documenting_mpl.html" title="Documenting matplotlib"
             accesskey="P">previous</a> |</li>

        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../api/pyplot_summary.html">pyplot</a>|&nbsp;</li>
        <li><a href="../contents.html">docs</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The Matplotlib Developers&#8217; Guide</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<a href="http://depsy.org/package/python/matplotlib">
  <img src="http://depsy.org/api/package/pypi/matplotlib/badge.svg">
</a>

<br/>

Travis-CI: <a href="https://travis-ci.org/matplotlib/matplotlib">
  <img src="https://travis-ci.org/matplotlib/matplotlib.svg?branch=master"/>
</a>
<br/>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Doing a matplotlib release</a><ul>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#branching">Branching</a></li>
<li><a class="reference internal" href="#packaging">Packaging</a></li>
<li><a class="reference internal" href="#update-pypi">Update PyPI</a></li>
<li><a class="reference internal" href="#documentation-updates">Documentation updates</a></li>
<li><a class="reference internal" href="#announcing">Announcing</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">The Matplotlib Developers&#8217; Guide</a><ul>
      <li>Previous: <a href="documenting_mpl.html" title="previous chapter">Documenting matplotlib</a></li>
      <li>Next: <a href="transformations.html" title="next chapter">Working with transformations</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/devel/release_guide.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="doing-a-matplotlib-release">
<span id="release-guide"></span><h1>Doing a matplotlib release<a class="headerlink" href="#doing-a-matplotlib-release" title="Permalink to this headline">¶</a></h1>
<p>A guide for developers who are doing a matplotlib release.</p>
<ul class="simple">
<li>Edit <code class="file docutils literal"><span class="pre">__init__.py</span></code> and bump the version number</li>
</ul>
<div class="section" id="testing">
<span id="release-testing"></span><h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Run all of the regression tests by running <code class="docutils literal"><span class="pre">python</span> <span class="pre">tests.py</span></code>
at the root of the source tree.</li>
<li>Run <code class="file docutils literal"><span class="pre">unit/memleak_hawaii3.py</span></code> and make sure there are no
memory leaks</li>
<li>try some GUI examples, e.g., <code class="file docutils literal"><span class="pre">simple_plot.py</span></code> with GTKAgg, TkAgg, etc...</li>
<li>remove font cache and tex cache from <code class="file docutils literal"><span class="pre">.matplotlib</span></code> and test
with and without cache on some example script</li>
<li>Optionally, make sure <code class="file docutils literal"><span class="pre">examples/tests/backend_driver.py</span></code> runs
without errors and check the output of the PNG, PDF, PS and SVG
backends</li>
</ul>
</div>
<div class="section" id="branching">
<span id="release-branching"></span><h2>Branching<a class="headerlink" href="#branching" title="Permalink to this headline">¶</a></h2>
<p>Once all the tests are passing and you are ready to do a release, you
need to create a release branch.  These only need to be created when
the second part of the version number changes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">v1</span><span class="o">.</span><span class="mf">1.</span><span class="n">x</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">git</span> <span class="n">v1</span><span class="o">.</span><span class="mf">1.</span><span class="n">x</span>
</pre></div>
</div>
<p>On the branch, do any additional testing you want to do, and then build
binaries and source distributions for testing as release candidates.</p>
<p>For each release candidate as well as for the final release version,
please <code class="xref py py-obj docutils literal"><span class="pre">git</span> <span class="pre">tag</span></code> the commit you will use for packaging like so:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v1</span><span class="o">.</span><span class="mf">1.0</span><span class="n">rc1</span>
</pre></div>
</div>
<p>The <code class="xref py py-obj docutils literal"><span class="pre">-a</span></code> flag will allow you to write a message about the tag, and
affiliate your name with it. A reasonable tag message would be something
like <code class="docutils literal"><span class="pre">v1.1.0</span> <span class="pre">Release</span> <span class="pre">Candidate</span> <span class="pre">1</span> <span class="pre">(September</span> <span class="pre">24,</span> <span class="pre">2011)</span></code>. To tag a
release after the fact, just track down the commit hash, and:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v1</span><span class="o">.</span><span class="mf">0.1</span><span class="n">rc1</span> <span class="n">a9f3f3a50745</span>
</pre></div>
</div>
<p>Tags allow developers to quickly checkout different releases by name,
and also provides source download via zip and tarball on github.</p>
<p>Then push the tags to the main repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">upstream</span> <span class="n">v1</span><span class="o">.</span><span class="mf">0.1</span><span class="n">rc1</span>
</pre></div>
</div>
</div>
<div class="section" id="packaging">
<span id="release-packaging"></span><h2>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make sure the <code class="file docutils literal"><span class="pre">MANIFEST.in</span></code> is up to date and remove
<code class="file docutils literal"><span class="pre">MANIFEST</span></code> so it will be rebuilt by MANIFEST.in</li>
<li>run <code class="xref py py-obj docutils literal"><span class="pre">git</span> <span class="pre">clean</span></code> in the mpl git directory before building the sdist</li>
<li>unpack the sdist and make sure you can build from that directory</li>
<li>Use <code class="file docutils literal"><span class="pre">setup.cfg</span></code> to set the default backends.  For windows and
OSX, the default backend should be TkAgg.  You should also turn on
or off any platform specific build options you need.  Importantly,
you also need to make sure that you delete the <code class="file docutils literal"><span class="pre">build</span></code> dir
after any changes to <code class="file docutils literal"><span class="pre">setup.cfg</span></code> before rebuilding since cruft
in the <code class="file docutils literal"><span class="pre">build</span></code> dir can get carried along.</li>
<li>On windows, unix2dos the rc file.</li>
<li>We have a Makefile for the OS X builds in the mpl source dir
<code class="file docutils literal"><span class="pre">release/osx</span></code>, so use this to prepare the OS X releases.</li>
<li>We have a Makefile for the win32 mingw builds in the mpl source dir
<code class="file docutils literal"><span class="pre">release/win32</span></code> which you can use this to prepare the windows
releases.</li>
</ul>
</div>
<div class="section" id="update-pypi">
<h2>Update PyPI<a class="headerlink" href="#update-pypi" title="Permalink to this headline">¶</a></h2>
<p>This step tells PyPI about the release and uploads a source
tarball. This should only be done with final (non-release-candidate)
releases, since doing so will hide any available stable releases.</p>
<p>You may need to set up your <code class="xref py py-obj docutils literal"><span class="pre">pypirc</span></code> file as described in the
<a class="reference external" href="http://docs.python.org/2/distutils/packageindex.html">distutils register command documentation</a>.</p>
<p>Then updating the record on PyPI is as simple as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">register</span>
</pre></div>
</div>
<p>This will hide any previous releases automatically.</p>
<p>Then, to upload the source tarball:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">dist</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">sdist</span> <span class="n">upload</span>
</pre></div>
</div>
</div>
<div class="section" id="documentation-updates">
<h2>Documentation updates<a class="headerlink" href="#documentation-updates" title="Permalink to this headline">¶</a></h2>
<p>The built documentation exists in the <a class="reference external" href="https://github.com/matplotlib/matplotlib.github.com/">matplotlib.github.com</a> repository.
Pushing changes to master automatically updates the website.</p>
<p>The documentation is organized by version.  At the root of the tree is
always the documentation for the latest stable release.  Under that,
there are directories containing the documentation for older versions
as well as the bleeding edge release version called <code class="xref py py-obj docutils literal"><span class="pre">dev</span></code> (usually
based on what&#8217;s on master in the github repository, but it may also
temporarily be a staging area for proposed changes).  There is also a
symlink directory with the name of the most recently released version
that points to the root.  With each new release, these directories may
need to be reorganized accordingly.  Any time these version
directories are added or removed, the <code class="xref py py-obj docutils literal"><span class="pre">versions.html</span></code> file (which
contains a list of the available documentation versions for the user)
must also be updated.</p>
<p>To make sure everyone&#8217;s hard work gets credited, regenerate the github
stats.  <code class="xref py py-obj docutils literal"><span class="pre">cd</span></code> into the tools directory and run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>python github_stats.py $TAG &gt; ../doc/users/github_stats.rst
</pre></div>
</div>
<p>where <code class="xref py py-obj docutils literal"><span class="pre">$TAG</span></code> is the tag of the last major release.  This will generate
stats for all work done since that release.</p>
<p>In the matplotlib source repository, build the documentation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">doc</span>
<span class="n">python</span> <span class="n">make</span><span class="o">.</span><span class="n">py</span> <span class="n">html</span>
<span class="n">python</span> <span class="n">make</span><span class="o">.</span><span class="n">py</span> <span class="n">latex</span>
</pre></div>
</div>
<p>Then copy the build products into your local checkout of the
<code class="xref py py-obj docutils literal"><span class="pre">matplotlib.github.com</span></code> repository (assuming here to be checked out in
<code class="xref py py-obj docutils literal"><span class="pre">com</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="n">build</span><span class="o">/</span><span class="n">html</span><span class="o">/*</span> <span class="o">~/</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">com</span>
<span class="n">cp</span> <span class="n">build</span><span class="o">/</span><span class="n">latex</span><span class="o">/</span><span class="n">Matplotlib</span><span class="o">.</span><span class="n">pdf</span> <span class="o">~/</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>Then, from the <code class="xref py py-obj docutils literal"><span class="pre">matplotlib.github.com</span></code> directory, commit and push the
changes upstream:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Updating for v1.0.1&quot;</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">upstream</span> <span class="n">master</span>
</pre></div>
</div>
</div>
<div class="section" id="announcing">
<h2>Announcing<a class="headerlink" href="#announcing" title="Permalink to this headline">¶</a></h2>
<p>Announce the release on matplotlib-announce, matplotlib-users, and
matplotlib-devel.  Final (non-release-candidate) versions should also
be announced on python-announce.  Include a summary of highlights from
the CHANGELOG and/or post the whole CHANGELOG since the last release.</p>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the matplotlib development team; 2012 - 2014 The matplotlib development team.
      Last updated on Jun 23, 2016.
      Created using <a
href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
  <!--Flipcause Integration v3.0// Flipcause Integration Instructions:
Install the following code block once in the website Header (after <head> tag) -->

<style>

.fc-black_overlay{
display:none; position: fixed; z-index:1000001; top: 0%;left: 0%;width: 100%;height: 100%;
background-color: black; filter: alpha(opacity=50); cursor:pointer; opacity:0.5;
}

.fc-white_content {
opacity:1; display:none; margin-top: -320px; margin-left: -485px; width:970px; height:640px;
position:fixed; top:50%; left:50%; border: none;z-index:1000002;overflow: auto;
}

.fc-main-box{
opacity:1; display:none; margin:15px auto 0 auto; width:930px; position:relative; z-index:1000003;
}

.fc-widget_close{
opacity:1; content:url(http://i1338.photobucket.com/albums/o691/WeCause/X_zpse4a7e538.png);
position:absolute; z-index=1000004; right:-16px; top:-16px; display:block; cursor:pointer;
}

.floating_button{
display: block; margin-top: 0px; margin-left: 0px; width:auto ; height: auto;
position:fixed; z-index:999999; overflow: auto;
}

@keyframes backfadesin {
   from { opacity:0; }
   to {opacity:.5;}
}

@-moz-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-webkit-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-o-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}


@-ms-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; transform: translateY(20px);}
   100% {opacity: 1; transform: translateY(0);}
}

@-moz-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -moz-transform: translateY(20px);}
   100% {opacity: 1; -moz-transform: translateY(0);}
}

@-webkit-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -webkit-transform: translateY(20px);}
   100% {opacity: 1; -webkit-transform: translateY(0);}
}

@-o-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -o-transform: translateY(20px);}
   100% {opacity: 1; -o-transform: translateY(0);}
}

@-ms-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -ms-transform: translateY(20px);}
   100% {opacity: 1; -ms-transform: translateY(0);}
}

</style>

<script>

function open_window(cause_id) {
var  protocol=String(document.location.protocol);
var new_url;
if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
new_url="https://www.flipcause.com/widget/"+cause_id
window.open(new_url);
}

else {
document.getElementById("fc-fade").style.display = "block";
document.getElementById("fc-fade").style.webkitAnimation = "backfadesin 1s";
document.getElementById("fc-fade").style.animation = "backfadesin 1s";
document.getElementById("fc-fade").style.mozAnimation = "backfadesin 1s";
document.getElementById("fc-light").style.display = "block";
document.getElementById("fc-light").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-light").style.animation = "fadesin 1.5s";
document.getElementById("fc-light").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.display = "block";
document.getElementById("fc-main").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.animation = "fadesin 1.5s";
document.getElementById("fc-main").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.display = "block";
document.getElementById("fc-close").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.animation = "fadesin 1.5s";
document.getElementById("fc-close").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.display = "block";
document.getElementById("fc-myFrame").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.animation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").src="https://www.flipcause.com/widget/"+cause_id;
}
}


function close_window() {
document.getElementById("fc-fade").style.display="none";
document.getElementById("fc-light").style.display="none";
document.getElementById("fc-main").style.display="none";
document.getElementById("fc-close").style.display="none";
document.getElementById("fc-myFrame").style.display="none";
}

</script>

<div id="fc-fade" class="fc-black_overlay" onclick="close_window()"></div>
<div id="fc-light" class="fc-white_content">
<div id="fc-main" class="fc-main-box">
<div id="fc-close" class="fc-widget_close" onclick="close_window()">
</div><iframe id="fc-myFrame" iframe height="580" width="925" style="border: 0;
border-radius:5px 5px 5px 5px; box-shadow:0 0 8px rgba(0, 0, 0, 0.5);" scrolling="no" src=""></iframe></div>
</div>

<!--END Flipcause Main Integration Code-->
</footer>
</html>